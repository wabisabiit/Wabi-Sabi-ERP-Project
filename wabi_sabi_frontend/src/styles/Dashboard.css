-----------------------------------------Dashboard.css------------------------------------------
/* =======================================================
   Dashboard.css â€” v12.5.0
   - Hand = enable/disable hover-to-show
   - Profile popup never clipped
   - Chart legends pinned to the right (like screenshot-1)
   ======================================================= */

:root{
  --bg-page:#f4f7fb; --bg-card:#fff; --bd-card:#e6ecf4; --shadow-card:0 6px 16px rgba(15,23,42,.06);
  --ink-900:#0f172a; --ink-700:#334155; --ink-600:#475569; --ink-500:#64748b;
  --focus:#2563eb; --grid:#e9eef7;
  --mint-bg:#e8fff4; --mint-bd:#b7f3d7; --mint-ink:#065f46;
  --sky-bg:#edf6ff;  --sky-bd:#cfe0ff;  --sky-ink:#214ea6;
  --violet-bg:#f5f1ff; --violet-bd:#d9ccff; --violet-ink:#5b21b6;
  --rose-bg:#fff0f2; --rose-bd:#ffcfd5; --rose-ink:#b91c1c;
  --chart-grad-top:#fafcff; --chart-grad-bottom:#ffffff;
  --danger:#ef4444; --danger-ink:#fff;
}

*{ box-sizing:border-box; }
.dash-page{ background:var(--bg-page); min-height:100vh; padding:14px 16px 26px; font-family:Inter,"Segoe UI",Roboto,Arial,sans-serif; color:#0f172a; }
.dash-panel{ max-width:1380px; margin:0 auto; }

/* ---------- Toolbar ---------- */
.dash-toolbar{ background:var(--bg-card); border:1px solid #dfe7f2; border-radius:14px; padding:10px 12px; box-shadow:var(--shadow-card); position:relative; z-index:100; overflow:visible; }
.dash-toolbar.grid{ display:grid; grid-template-columns:1fr auto 1fr; align-items:center; column-gap:12px; }
.toolbar-left{ justify-self:start; display:flex; align-items:center; gap:10px; }
.toolbar-center{ justify-self:center; display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.toolbar-right{ justify-self:end; display:flex; align-items:center; gap:10px; position:relative; overflow:visible; }

/* ---------- Avatar & Profile ---------- */
.avatar-btn{ border:none; background:transparent; padding:4px; cursor:pointer; border-radius:999px; outline-offset:2px; }
.avatar-btn:focus-visible{ outline:2px solid rgba(99,102,241,.6); }
.avatar-dot{ width:36px; height:36px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center; background:#12a1e8; color:#fff; font-weight:900; font-size:14px; box-shadow:0 2px 8px rgba(0,0,0,.25); }

.profile-pop{ position:absolute; right:0; top:46px; width:300px; z-index:5000; background:#fff; border:1px solid #e3e9f4; border-radius:12px; box-shadow:0 20px 36px rgba(15,23,42,.22); padding:10px; }
.profile-head{ padding:6px 6px 10px; border-bottom:1px solid #eef3fb; }
.profile-title{ font-weight:800; color:#0f223f; }
.profile-sub{ font-size:12px; color:#6b7280; margin-top:2px; }
.profile-link{ display:flex; align-items:center; gap:10px; padding:10px 6px; text-decoration:none; color:#0f223f; font-size:14px; white-space:nowrap; }
.profile-link:hover{ background:#f7faff; border-radius:8px; }
.profile-ico{ width:20px; text-align:center; }
.profile-actions{ display:grid; gap:10px; grid-template-columns:1fr 1fr; padding-top:8px; }
.btn{ height:34px; padding:0 14px; border-radius:8px; border:1px solid #e5e7eb; font-size:12.5px; cursor:pointer; background:#fff; display:inline-flex; align-items:center; justify-content:center; gap:8px; white-space:nowrap; line-height:1; }
.btn.ghost{ background:#fff; }
.btn.primary{ background:#2563eb; color:#fff; border-color:#2563eb; }
.btn.danger{ background:var(--danger); color:var(--danger-ink); border-color:var(--danger); }
.btn.wfull{ width:100%; }

/* ---------- Data filters ---------- */
.select-wrap{ position:relative; }
.pill{ display:inline-flex; align-items:center; gap:10px; height:34px; padding:0 12px; background:#f2f6ff; border:1px solid #cfe0ff; border-radius:999px; color:#243b69; font-size:13px; font-weight:700; cursor:pointer; transition:background .15s, box-shadow .15s, border-color .15s, transform .05s; user-select:none; }
.pill:hover{ background:#e9f1ff; box-shadow:0 2px 8px rgba(37,99,235,.18); }
.pill:active{ transform:translateY(1px); }
.pill-count{ display:inline-flex; align-items:center; justify-content:center; min-width:20px; height:20px; padding:0 6px; border-radius:999px; font-size:11px; font-weight:800; color:#0b6b3a; background:#dcfce7; border:1px solid #b7f0c8; }

.dropdown{ position:fixed; background:#fff; border:1px solid var(--bd-card); border-radius:12px; box-shadow:0 16px 30px rgba(15,23,42,.16); max-width:calc(100vw - 24px); overflow:auto; z-index:3600; }
.dd-search{ padding:10px; border-bottom:1px solid #eef3fb; }
.dd-search input{ width:100%; height:34px; padding:6px 10px; border:1px solid #dbe3f1; border-radius:9px; font-size:13px; outline:none; color:#0f223f; background:#fff; }
.dd-search input:focus{ border-color:var(--focus); box-shadow:0 0 0 2px rgba(37,99,235,.12); }
.dd-list{ max-height:300px; overflow:auto; padding:6px 6px 10px; }
.opt{ display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:8px; cursor:pointer; }
.opt:hover{ background:#f7faff; }
.opt input{ width:16px; height:16px; }
.dd-list::-webkit-scrollbar{ width:10px; }
.dd-list::-webkit-scrollbar-thumb{ background:#d1d9e8; border-radius:8px; border:2px solid #fff; }
.dd-list::-webkit-scrollbar-thumb:hover{ background:#b9c4d8; }

/* ---------- Date Range ---------- */
.drp-wrap{ position:relative; }
.drp-input{ display:flex; align-items:center; gap:8px; min-width:250px; height:34px; padding:0 12px; border:1px solid #dbe3f1; border-radius:8px; background:#fff; cursor:pointer; font-size:13px; color:#0f223f; transition:border-color .15s, box-shadow .15s; }
.drp-small .drp-input{ min-width:240px; height:32px; }
.drp-input .mi{ font-style:normal; color:#8fa1bb; }
.drp-input:hover{ border-color:#cfd9ee; }
.drp-input.focus{ border-color:var(--focus); box-shadow:0 0 0 2px rgba(37,99,235,.16); }
.drp-pop{ position:absolute; top:40px; left:0; z-index:4200; width:520px; max-width:min(520px, calc(100vw - 24px)); background:#fff; border:1px solid #e6ecf4; border-radius:12px; box-shadow:0 20px 36px rgba(15,23,42,.18); padding:12px; overflow:auto; -webkit-overflow-scrolling:touch; }
.chart-head-right .drp-wrap, .table-head-right .drp-wrap{ position:relative; }
.chart-head-right .drp-pop, .table-head-right .drp-pop{ position:absolute; right:0; left:auto; top:40px; z-index:4200; }
.drp-cal{ display:grid; grid-template-columns:1fr 1fr; gap:12px; align-items:end; margin-bottom:10px; }
.drp-col input[type="date"]{ width:100%; height:36px; padding:6px 10px; border:1px solid #dbe3f1; border-radius:8px; font-size:13px; color:#0f223f; background:#fff; }
.drp-col input[type="date"]:focus{ outline:none; border-color:var(--focus); box-shadow:0 0 0 2px rgba(37,99,235,.12); }
.drp-lbl{ font-size:12px; color:#5a6b86; margin-bottom:6px; font-weight:600; }
.drp-footer{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:4px; }
.drp-preview{ font-size:12.5px; color:#1f2a3d; font-weight:700; }
.drp-footer .btn{ height:32px; border-radius:8px; }

/* ---------- Metrics ---------- */
.metric-grid{ margin-top:12px; display:grid; gap:12px; grid-template-columns:repeat(6,minmax(0,1fr)); }
@media (max-width:1300px){ .metric-grid{ grid-template-columns:repeat(4,1fr); } }
@media (max-width:940px){  .metric-grid{ grid-template-columns:repeat(2,1fr); } }
.metric-card{ background:var(--bg-card); border:1px solid var(--bd-card); border-radius:12px; padding:12px 14px; box-shadow:var(--shadow-card); display:grid; grid-template-rows:44px auto; align-items:center; min-height:100px; text-align:center; }
.metric-badge{ display:flex; justify-content:center; align-items:center; height:42px; width:120px; margin:0 auto; padding:0 10px; border-radius:10px; font-weight:800; font-size:15px; border:1px solid transparent; }
.metric-badge.mint{   background:var(--mint-bg);   border-color:var(--mint-bd);   color:var(--mint-ink); }
.metric-badge.sky{    background:var(--sky-bg);    border-color:var(--sky-bd);    color:var(--sky-ink); }
.metric-badge.violet{ background:var(--violet-bg); border-color:var(--violet-bd); color:var(--violet-ink); }
.metric-badge.rose{   background:var(--rose-bg);   border-color:var(--rose-bd);   color:var(--rose-ink); }
.metric-label{ align-self:end; font-size:12.5px; color:#63708a; font-weight:700; line-height:1.5; text-align:center; }

/* ---------- Charts ---------- */
.charts-row{ margin-top:14px; display:grid; gap:14px; grid-template-columns:1fr 1fr; }
@media (max-width:1100px){ .charts-row{ grid-template-columns:1fr; } }
.chart-card{ background:var(--bg-card); border:1px solid var(--bd-card); border-radius:12px; box-shadow:var(--shadow-card); overflow:visible; }
.chart-head{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px 8px; border-bottom:1px solid #eef3fb; }
.chart-title{ font-size:15px; font-weight:700; color:#2c3e59; letter-spacing:.2px; }
.chart-head-right{ display:flex; align-items:center; gap:8px; }
.chart-body{ position:relative; padding:10px; background:linear-gradient(180deg,var(--chart-grad-top),var(--chart-grad-bottom)); }

/* Base chart SVG */
.gridchart-svg{ width:100%; height:360px; display:block; background:#fff; border:1px solid #e8eef7; border-radius:10px; overflow:visible; margin-left:0; }
.gridchart-svg line{ stroke:var(--grid); stroke-width:.9; }
.gridchart-svg text{ font-family:Inter, system-ui, -apple-system, Segoe UI, Arial, sans-serif; }
.gridchart-svg .y-tick{ font-size:18px; fill:#083388; paint-order:stroke fill; }
.gridchart-svg .x-tick{ font-size:18px; fill:#0e378a; paint-order:stroke fill; }

/* Tools */
.chart-tools{ position:absolute; right:15px; top:14px; display:flex; gap:5px; color:#5f748d; font-size:16px; z-index:4100; }
.tool-btn{ background:#fff; border:1px solid #dbe3f1; width:26px; height:26px; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,.06); }
.tool-btn:hover{ background:#f7faff; }
.tool-btn.active{ outline:2px solid rgba(37,99,235,.18); }
.tool-menu{ position:relative; }
.menu-pop{ position:absolute; right:0; top:30px; min-width:160px; z-index:4150; background:#fff; border:1px solid #e6ecf4; border-radius:10px; box-shadow:0 14px 26px rgba(15,23,42,.16); overflow:hidden; max-width:calc(100vw - 24px); }
.menu-item{ padding:8px 12px; font-size:13px; color:#20304a; cursor:pointer; white-space:nowrap; }
.menu-item:hover{ background:#f5f8ff; }

/* -------- Legends @ Right (like screenshot) -------- */
.chart-legend{
  position:absolute;
  right:14px;
  top:72px;            /* below toolbar/buttons */
  display:flex;
  flex-direction:column;
  gap:8px;
  max-height: calc(100% - 110px);
  overflow:auto;
  padding:2px 0;
  z-index:4050;
}
.legend-item{ display:flex; align-items:center; gap:8px; font-size:13px; color:#20304a; white-space:nowrap; }
.legend-dot{ width:10px; height:10px; border-radius:2px; border:1px solid #cbd5e1; }

/* Tooltip */
.hover-tip{ position:fixed; background:#fff; border:1px solid #e6ecf4; border-radius:12px; box-shadow:0 16px 30px rgba(15,23,42,.16); padding:10px; width:230px; z-index:4200; max-width:calc(100vw - 24px); }
.hover-tip .tip-head{ font-size:12.5px; color:#1f2a3d; margin-bottom:6px; font-weight:700; }
.hover-tip .tip-row{ display:flex; align-items:center; gap:8px; font-size:12.5px; padding:3px 0; }
.hover-tip .tip-dot{ width:10px; height:10px; border-radius:2px; border:1px solid #cbd5e1; }
.hover-tip .tip-name{ flex:1; color:#2b3a67; }
.hover-tip .tip-val{ color:#0f1f39; font-variant-numeric:tabular-nums; }

/* ---------- Tables ---------- */
.tables-row{ margin-top:14px; display:grid; gap:14px; grid-template-columns:1fr 1fr; }
@media (max-width:1100px){ .tables-row{ grid-template-columns:1fr; } }
.table-card{ background:#fff; border:1px solid var(--bd-card); border-radius:12px; box-shadow:var(--shadow-card); overflow:visible; }
.table-head{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid #eef3fb; }
.table-title{ font-size:15px; font-weight:700; color:#2c3e59; }
.table-head-right{ display:flex; align-items:center; gap:8px; }
.table-head-right .drp-input{ height:32px; min-width:240px; }
.table-wrap{ padding:10px; }
.table-wrap.has-scroll{ overflow:auto; }
.data-table{ width:100%; border-collapse:separate; border-spacing:0; background:#fff; }
.data-table thead th{ position:sticky; top:0; z-index:1; background:#f8fbff; border:1px solid #e7eef8; border-bottom:none; padding:10px; font-size:13.5px; color:#2a3b56; font-weight:600; text-align:center; }
.data-table thead th.col-idx{ width:52px; text-align:center; }
.data-table tbody td{ border:1px solid #e7eef8; padding:9px 10px; font-size:13.5px; color:#2c3e59; background:#fff; text-align:center; word-break:break-word; }
.data-table tbody tr:hover td{ background:#fbfdff; }
.data-table thead th:first-child, .data-table tbody td:first-child{ border-left:1px solid #e7eef8; }
.data-table thead th:last-child,  .data-table tbody td:last-child{ border-right:1px solid #e7eef8; }
.data-table tbody tr:last-child td{ border-bottom:1px solid #e7eef8; }
.al-r{ text-align:right; } .al-c{ text-align:center; }
.tbl-link{ color:#1a73e8; text-decoration:none; } .tbl-link:hover{ text-decoration:underline; }

/* Status */
[aria-busy="true"]{ opacity:.82; transition:opacity .15s; }
.dash-error, .dash-loading{ margin-top:10px; font-size:13px; color:#374151; }

/* ---------- Responsive tweaks ---------- */
@media (max-width: 900px){
  .dash-toolbar.grid{ grid-template-columns:1fr; row-gap:8px; }
  .toolbar-left, .toolbar-center, .toolbar-right{ justify-self:stretch; }
  .toolbar-center{ justify-content:flex-start; }
  .avatar-dot{ width:32px; height:32px; font-size:13px; }
  .gridchart-svg{ height:340px; }
  .chart-legend{ right:8px; top:68px; }
  .drp-input{ min-width:220px; }
}

/* --- Hard override for dashboard so it stays readable --- */

.dash-page {
  background: #f4f7fb !important;
  color: #0f172a !important;
}

.dash-page .dash-toolbar,
.dash-page .metric-card,
.dash-page .chart-card,
.dash-page .table-card {
  background: #ffffff !important;
  border-color: #e6ecf4 !important;
}

.dash-page .metric-badge.mint {
  background: #e8fff4 !important;
  border-color: #b7f3d7 !important;
  color: #065f46 !important;
}

.dash-page .metric-badge.sky {
  background: #edf6ff !important;
  border-color: #cfe0ff !important;
  color: #214ea6 !important;
}

.dash-page .metric-badge.violet {
  background: #f5f1ff !important;
  border-color: #d9ccff !important;
  color: #5b21b6 !important;
}

.dash-page .metric-badge.rose {
  background: #fff0f2 !important;
  border-color: #ffcfd5 !important;
  color: #b91c1c !important;
}

/* Make chart area light as well */
.dash-page .gridchart-svg {
  background: #ffffff !important;
  border-color: #e8eef7 !important;
}

.dash-page .gridchart-svg .y-tick,
.dash-page .gridchart-svg .x-tick {
  fill: #0e378a !important;
}
