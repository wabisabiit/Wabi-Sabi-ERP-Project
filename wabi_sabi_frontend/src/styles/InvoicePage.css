/* Google Material Symbols (outlined) */
@import url("https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,400,0,0");

/* ===== Base & Theme ===== */
:root{
  --bg:#f3f6fb; --card:#fff; --ink:#1f2937; --muted:#718198;
  --line:#e6ecf4; --line-strong:#dbe4ef; --head:#eef3fa;
  --blue:#1976d2; --amber:#ffb300; --green:#2e7d32; --danger:#e11d48;
  --radius:12px; --shadow:0 2px 6px rgba(16,24,40,.08);
  --font: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans";

  /* ==== Font sizes (fluid to avoid breaking) ==== */
  --fs-base:  clamp(10.5px, 0.78vw, 12px);
  --fs-label: clamp(11px,  0.75vw, 12px);
  --fs-input: clamp(11px,  0.75vw, 12px);
  --fs-table: clamp(9.8px, 0.70vw, 11px);
  --fs-badge: clamp(9.5px, 0.68vw, 10.5px);
  --fs-pill:  clamp(10px,  0.72vw, 11.5px);
}

html, body { overflow-x: hidden; }
.mi{ font-family:"Material Symbols Outlined"; font-weight:400; font-style:normal; font-size:18px; line-height:1; display:inline-flex; vertical-align:middle; }

.inv-page{
  background:var(--bg); min-height:100vh; padding:18px 18px 36px;
  color:var(--ink); font-family:var(--font); font-size:var(--fs-base);
  overflow-x:hidden;
}

/* ===== Breadcrumb + FY ===== */
.inv-breadcrumb{ display:flex; align-items:center; gap:10px; background:linear-gradient(#f7f9fd,#f2f6fc); border:1px solid var(--line); border-radius:14px; padding:10px 14px; margin-bottom:12px; }
.inv-breadcrumb .mi{ color:#93a3b8; }
.inv-breadcrumb span{ color:#70849e; }
.inv-breadcrumb span.active{ color:#1e293b; font-weight:600; }
.year-wrap{ margin-left:auto; }
.year-btn{ display:flex; align-items:center; gap:6px; background:#fff; border:1px solid var(--line); padding:6px 10px; border-radius:10px; cursor:pointer; }

/* ===== Popover ===== */
.pop{ position:fixed; background:#fff; border:1px solid var(--line); border-radius:10px; box-shadow:0 8px 28px rgba(16,24,40,.12); min-width:180px; overflow:hidden; z-index:9999; }
.pop .menu-search{ padding:8px; border-bottom:1px solid var(--line); background:#fbfdff; }
.pop .menu-search input{ width:100%; border:1px solid var(--line); border-radius:8px; padding:6px 8px; background:#fff; outline:0; font-size:var(--fs-input); }
.pop .menu-list{ max-height:280px; overflow:auto; }
.pop .menu-item{ padding:8px 12px; cursor:pointer; display:flex; align-items:center; gap:8px; }
.pop .menu-item:hover{ background:#f6f9ff; }
.pop .menu-item.sel{ background:#e9f0ff; font-weight:600; }

/* ===== Metrics ===== */
.metrics{ display:grid; grid-template-columns:repeat(7,1fr); gap:16px; margin:6px 2px 0; }
.metrics-bottom{ grid-template-columns:repeat(2,1fr); margin-top:16px; }
.metric{ text-align:center; }
.met-pill{
  display:inline-block; min-width:64px; padding:8px 10px;
  background:#e8f1f9; color:#0d74d7; font-weight:800; border-radius:10px;
  font-size:var(--fs-pill);
}
.met-pill.on{ background:#daeefe; color:#0d74d7; }
.metric-label{ color:#5d728c; margin-top:6px; font-weight:600; font-size:var(--fs-label); }

/* ===== Toolbar ===== */
.tbl-toolbar{ display:flex; align-items:center; flex-wrap:wrap; gap:10px; margin:10px 0 12px; }
.icon-btn{ background:#1e7bd7; color:#fff; border:none; padding:7px 10px; border-radius:8px; cursor:pointer; display:inline-flex; align-items:center; gap:6px; }
.btn-dropdown{ position:relative; }
.select-btn{ background:#fff; border:1px solid var(--line); padding:6px 10px; border-radius:8px; cursor:pointer; display:flex; align-items:center; gap:6px; min-width:56px; justify-content:space-between; }
.filter-btn{ display:flex; align-items:center; gap:6px; border:1px solid var(--line); background:#fff; padding:6px 10px; border-radius:8px; cursor:pointer; color:#1e7bd7; }
.filter-btn .mi{ color:#1e7bd7; }
.filter-btn.active{ border-color:#1e7bd7; color:#0f172a; background:#f3f8ff; }
.search-wrap{ position:relative; }
.search-wrap input{ width:220px; padding:6px 28px 6px 10px; border:1px solid var(--line); border-radius:8px; background:#fff; outline:0; font-size:var(--fs-input); }
.search-wrap .mi{ position:absolute; right:8px; top:7px; color:#8ca0b8; font-size:16px; }
.create-btn{ margin-left:auto; background:#1e7bd7; color:#fff; border:none; padding:7px 10px; border-radius:8px; cursor:pointer; }

/* ===== Filter bar ===== */
.filter-bar{
  margin-top:8px; margin-bottom:12px; background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:12px; display:grid; grid-template-columns:repeat(4, minmax(220px,1fr)); gap:12px;
  animation: filterIn .18s ease-out;
}
.filter-bar label{ display:block; font-weight:600; color:#1f2937; margin-bottom:6px; font-size:var(--fs-label); }

/* unified input look */
.filter-bar input,
.filter-bar select,
.typeahead input,
.loc-select{
  width:100%; height:38px; border:1px solid var(--line); border-radius:10px;
  background:#fff; color:var(--ink); font:var(--fs-input) var(--font); padding:0 12px; appearance:none;
  transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}
.filter-bar input::placeholder,
.typeahead input::placeholder{ color:#9aa6b2; }

.filter-bar input:focus,
.filter-bar select:focus,
.typeahead input:focus,
.loc-select:focus-within{
  outline:0; border-color:#c9d7ef; box-shadow:0 0 0 3px rgba(21,112,239,.08);
}

/* Typeahead */
.typeahead{ position:relative; z-index:60; }
.typeahead input{ padding-right:34px; }
.ta-caret{ position:absolute; right:8px; top:7px; padding:6px; color:#8ba0b8; background:transparent; border:0; cursor:pointer; line-height:1; }
.ta-caret .mi{ font-size:18px; }
.ta-empty{ padding:10px; color:#7b8ea6; font-size:var(--fs-input); }

/* Location multiselect */
.loc-select{
  position:relative; display:flex; align-items:center; gap:8px;
  padding-right:56px; background:#eef2f7; cursor:pointer;
}
.loc-select:hover{ background:#e9edf4; }
.loc-select .placeholder{
  color:#4d5f78; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; flex:1; font-size:var(--fs-input);
}
.count-badge{
  position:absolute; right:32px; top:50%; transform:translateY(-50%);
  min-width:16px; height:16px; padding:0 4px; font-size:10px; border-radius:4px;
  background:#222b36; color:#fff; font-weight:700; display:inline-flex; align-items:center; justify-content:center;
}
.clear-x{
  position:absolute; right:16px; top:50%; transform:translateY(-50%);
  background:transparent; border:0; padding:0; cursor:pointer; color:#6b7f8f; line-height:1;
}
.clear-x .mi{ font-size:16px; }
.loc-select .caret{
  position:absolute; right:6px; top:50%; transform:translateY(-50%); color:#8ba0b8; line-height:1;
}

/* Native select */
.simple-select{ position:relative; }
.simple-select select{
  width:100%; appearance:none; -webkit-appearance:none; -moz-appearance:none;
  padding-right:30px; background-color:#fff; color:#1f2937; cursor:pointer; font-size:var(--fs-input);
}
.simple-select .mi{
  position:absolute; right:10px; top:50%; transform:translateY(-50%); pointer-events:none; color:#8ba0b8; font-size:18px;
}

/* popover fine-tuning */
.pop .menu-list .menu-item{ font-size:var(--fs-input); color:#1f2937; }
.pop .menu-list label.menu-item{ gap:10px; }
.pop .menu-list input[type="checkbox"]{ accent-color:#1976d2; }

/* animation */
@keyframes filterIn{
  from{ opacity:0; transform:translateY(-4px); }
  to{ opacity:1; transform:translateY(0); }
}

/* ===================================================================== */
/* =================== TABLE (ONE-PAGE-FIT, NO SCROLL) ================== */
/* ===================================================================== */

.table-wrap{
  background:#fff; border:1px solid var(--line-strong); border-radius:14px; box-shadow:var(--shadow);
  overflow:visible;
}
table.grid{
  width:100%; border-collapse:separate; border-spacing:0; table-layout:auto;
  font-size:var(--fs-table); line-height:1.25;
}
.grid th, .grid td{
  padding:6px 7px; color:#1e293b; background:#fff;

  /* prevent ugly mid-word breaks */
  white-space:normal;
  overflow:hidden; text-overflow:ellipsis;
  word-break:normal;          /* <- पहले anywhere था */
  overflow-wrap:break-word;   /* जरूरत पर शब्द किनारे टूटें */
  hyphens:auto;

  border-bottom:1px solid var(--line-strong);
  border-right:1px solid var(--line-strong);
}
.grid th:last-child, .grid td:last-child{ border-right:none; }
.grid thead th{ position:sticky; top:0; background:var(--head); z-index:1; font-weight:600; color:#4b5f78; }

col[class^="c-"]{ width:auto !important; }
col.c-exp{ width:26px !important; }
col.c-check{ width:34px !important; }
col.c-idx{ width:34px !important; }

.grid .num, .grid .right{ text-align:right; }
.grid .strong{ font-weight:700; }
.grid .muted{ color:#8aa0b8; }
.grid .link{ color:#1570ef; cursor:pointer; text-decoration:none; }
.clip{ white-space:normal; overflow:hidden; text-overflow:ellipsis; }

/* Badges */
.badge{ display:inline-block; padding:2px 7px; border-radius:999px; font-weight:700; color:#fff; font-size:var(--fs-badge); }
.badge.green{ background:#2bb24c;}
.badge.amber{ background:#ffac0a; color:#1b1b1b; }

/* Expand button / Checkbox / Actions */
.circle{ width:18px; height:18px; border-radius:50%; border:none; cursor:pointer; display:inline-block; background:#1e7bd7; position:relative; }
.circle.plus::before, .circle.minus::before, .circle.minus::after{ content:""; position:absolute; background:#fff; left:4px; right:4px; top:8px; height:2px; border-radius:1px; }
.circle.plus::after{ content:""; position:absolute; top:4px; bottom:4px; left:8px; width:2px; border-radius:1px; background:#fff; }
.circle.minus{ background:#d7263d; }

.chk{ position:relative; display:inline-block; width:16px; height:16px; }
.chk input{ position:absolute; inset:0; opacity:0; }
.chk span{ position:absolute; inset:0; border:1px solid var(--line-strong); border-radius:4px; background:#fff; }
.chk.on span{ background:#1e7bd7; border-color:#1e7bd7; box-shadow:inset 0 0 0 2px #fff; }
.chk.ind span{ background:linear-gradient(180deg,#1e7bd7 0,#1e7bd7 0) no-repeat center/10px 2px; }

.actions-row td{ background:#fbfdff; }
.actions{ display:flex; align-items:center; gap:8px; }
.actions .icon{ border:1px solid var(--line); border-radius:8px; background:#fff; padding:4px 6px; cursor:pointer; }
.actions .icon.danger{ border-color:#ffd6de; color:#b3002c; }

/* Bulk bar */
.bulk-bar{ display:flex; align-items:center; gap:10px; background:#f2f7ff; border:1px solid #cfe2ff; padding:8px 10px; margin:10px 0; border-radius:10px; box-shadow:0 6px 16px rgba(22,45,92,.08); }
.bulk-text{ color:#334155; font-weight:600; }
.bulk-bar .btn{ border:1px solid var(--line); background:#fff; color:#0f172a; padding:6px 10px; border-radius:8px; cursor:pointer; display:inline-flex; align-items:center; gap:6px; }
.bulk-bar .btn.danger{ border-color:#ffd6de; background:#fff5f7; color:#b3002c; }

/* Totals row */
.total-row td{ background:#f5f9ff; font-weight:600; }

/* ===== Pager ===== */
.pager{ display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:10px; margin-top:10px; }
.pager .muted{ color:#6f819a; }
.pager .pages{ display:flex; align-items:center; gap:6px; }
.pager .pages button{ border:1px solid var(--line); background:#fff; padding:6px 10px; border-radius:6px; cursor:pointer; font-size:var(--fs-input); }
.pager .pages button.on{ background:#1e7bd7; color:#fff; border-color:#1e7bd7; }
.pager .pages button:disabled{ opacity:.5; cursor:not-allowed; }

/* ===== Responsive squeeze (width fits page, no horizontal scroll) ===== */
@media (max-width:1600px){
  /* fluid sizes handle most cases; keep padding tight a bit more */
  .grid th, .grid td{ padding:5px 6px; }
}
@media (max-width:1366px){
  .grid th, .grid td{ padding:4.5px 5.5px; }
}
@media (max-width:1280px){
  .grid th, .grid td{ padding:4px 5px; }
  .metrics{ grid-template-columns:repeat(4,1fr); }
  .metrics-bottom{ grid-template-columns:repeat(2,1fr); }
  .filter-bar{ grid-template-columns:repeat(2,minmax(220px,1fr)); }
  .search-wrap input{ width:180px; }
}
@media (max-width:640px){
  .create-btn{ margin-left:0; }
  .tbl-toolbar{ justify-content:space-between; }
}
