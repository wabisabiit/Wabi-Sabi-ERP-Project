/* ===== TOP BAR ===== */
.search-row{background:#f9fafb;padding:2px;border-bottom:1px solid #e5e7eb;}
.search-bar{display:flex;gap:17px;align-items:center;padding:12px 0;}
.scan,.invoice{flex:1;border:1px solid #d1d5db;border-radius:3px;padding:8px;font-size:14px;background:#fff;}

.customer-input{position:relative;display:flex;align-items:center;gap:0;flex:1;max-width:500px;}
.customer-input input{border-radius:3px 0 0 3px;border:1px solid #d1d5db;padding:8px;flex:1;background:#fff;}
.customer-input .edit-btn{background:#f3f4f6;border:1px solid #d1d5db;border-left:none;border-radius:0 3px 3px 0;padding:6px 8px;cursor:pointer;}

/* ===== DROPDOWN (Customer search) ===== */
.dropdown{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #d1d5db;border-top:none;box-shadow:0 10px 20px rgba(0,0,0,.06);z-index:50;max-height:280px;overflow:auto;}
.dropdown-note,.no-results{padding:10px;font-size:13px;color:#6b7280;background:#f9fafb;border-bottom:1px solid #eee;}
.add-contact,.customer-item{padding:10px;cursor:pointer;}
.add-contact:hover,.customer-item:hover{background:#f3f4f6;}
.add-contact{font-weight:600;color:#2563eb;}
.add-contact .muted{font-size:12px;color:#6b7280;font-weight:400;margin-top:2px;}
.cust-line{font-size:14px;}
.cust-name{text-transform:capitalize;}
.cust-phone{color:#111827;}
.cust-sub{display:flex;justify-content:space-between;font-size:12px;color:#6b7280;}
.unverified{color:#ef4444;font-weight:600;}

/* ===== PREVENT BODY SCROLL WHEN MODAL OPEN ===== */
body.modal-open{overflow:hidden;}

/* =========================================================
   MODAL (New Customer) — compact width + non-overlapping
   ========================================================= */
body .modal-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.45);
  display:flex;align-items:center;justify-content:center;z-index:1000;
}

/* ⬇️ Narrower dialog */
body .modal-overlay .modal-card{
  width:820px !important;          /* was 950 */
  max-width:96vw !important;
  background:#fff;border-radius:6px;
  box-shadow:0 22px 48px rgba(0,0,0,.25);overflow:hidden;
}

/* Header */
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid #e5e7eb;}
.modal-title{margin:0;font-size:17px;font-weight:700;color:#111827;}
.icon-btn{border:none;background:transparent;cursor:pointer;font-size:18px;line-height:1;}

/* Body grid: tighter columns & gaps */
.modal-grid{display:grid;gap:12px 18px;padding:14px;}
.modal-grid.grid-3{grid-template-columns:repeat(3, minmax(240px,1fr)) !important;}

/* Form rows */
.form-row{display:flex;flex-direction:column;}
.form-row.empty{display:block;height:0;}
.form-row label{font-size:12.5px;color:black;font-weight:600;margin-bottom:4px;}
.req{color:#ef4444;}
.label-row{display:flex;align-items:center;justify-content:flex-start;gap:8px;margin-bottom:4px;}
.label-row.between{justify-content:space-between;}

/* Inputs / selects — compact height & padding */
.field{
  height:36px;                                  /* was 38 */
  border:1px solid #d1d5db;border-radius:4px;
  padding:6px 9px;                               /* tighter */
  font-size:13.5px;background:#fff;outline:none;
  width:100% !important;max-width:none !important;
}
.field::placeholder{color:#9ca3af;}
.field:focus{border-color:#9ca3af;box-shadow:0 0 0 2px rgba(156,163,175,.18);}

/* Select arrow */
select.field{
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, #6b7280 50%),
    linear-gradient(135deg, #6b7280 50%, transparent 50%),
    linear-gradient(to right, #d1d5db, #d1d5db);
  background-position: calc(100% - 18px) calc(50% + 1px),
                       calc(100% - 10px) calc(50% + 1px),
                       calc(100% - 32px) 50%;
  background-size:8px 8px,8px 8px,1px 60%;
  background-repeat:no-repeat;
  padding-right:34px;                            /* slightly tighter */
}

/* Phone chip + input — compact widths */
.phone-field{display:flex;align-items:stretch;gap:0;width:100% !important;max-width:none !important;}
.phone-field .country{
  min-width:48px;                                /* was 54 */
  height:36px;display:flex;align-items:center;justify-content:center;
  border:1px solid #d1d5db;border-right:0;border-radius:4px 0 0 4px;
  background:#f9fafb;color:#111827;font-size:13.5px;font-weight:600;
}
.phone-field .field{
  flex:1;height:36px;border:1px solid #d1d5db;border-left:0;
  border-radius:0 4px 4px 0;padding:6px 9px;font-size:13.5px;max-width:none !important;
}

/* Verify link */
.link-btn{border:none;background:transparent;color:#2563eb;padding:0;cursor:pointer;font-size:12.5px;font-weight:600;}
.link-btn:hover{text-decoration:underline;}

/* Footer */
.modal-footer{padding:10px 14px 14px;border-top:1px solid #e5e7eb;display:flex;justify-content:center;}
.primary-btn{padding:7px 20px;background:#111827;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:13.5px;}
.primary-btn:hover{opacity:.9;}

/* ===== Responsive fallbacks ===== */
@media (max-width: 1100px){
  body .modal-overlay .modal-card{width:94vw !important;}
  .modal-grid.grid-3{grid-template-columns:repeat(3, minmax(220px,1fr)) !important;}
}
@media (max-width: 780px){
  .modal-grid.grid-3{grid-template-columns:1fr !important;}
}
